---
title: day64-模板语法
tags:
- 前端
categories: 
- 技术
date:  2019-3-16
grammar_cjkRuby: true
---
### 背景
vuejs项目中有个需求，在notification消息提示中某个部分需要有点击事件。UI用的element。想到用模板的方法来构造。

![](https://ws1.sinaimg.cn/large/b15ca614gy1g150hkjjz3j20dw08qaao.jpg)
<!--more-->
### element-ui Notification onClick 触发方式
组件中有两种触发的方式，但是都没有很好的满足需求。
#### 点击时触发
```javascript
this.$notify.warning({
  dangerouslyUseHTMLString: true,
  duration: 0,
  message: `${this.createdFailedMember}个成员创建失败！<a id="message" style="color: #66b1ff;text-decoration: underline;cursor:pointer;" @click=aclick(event)">前往查看</a>`,
  onClick: function () {
    console.log(1)
  }
})
```
#### 创建时触发
```javascript
this.$notify.warning({
  dangerouslyUseHTMLString: true,
  duration: 0,
  message: `${this.createdFailedMember}个成员创建失败！<a id="message" style="color: #66b1ff;text-decoration: underline;cursor:pointer;" @click=aclick(event)">前往查看</a>`,
  onClick: (function () {
    console.log(1)
  })()
})
```
### 渲染函数
比较灵活的render 函数。非常好用，但是没有模板语法那么简洁。
```javascript
this.$notify.warning({
message: h(
  'div',
  {
    style: {display: 'inline-block'}
  },
  [ 
    h('span', `${this.createdFailedMember}个成员创建失败！`),
    h('a', {
      style: {color: '#409EFF', cursor: 'pointer', 'text-decoration': 'underline'},
      on: {
        click: this.clickNotificationMsg
      }
    }, '前往查看')
  ]
)
})
```
