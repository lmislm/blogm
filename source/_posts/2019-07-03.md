---
title: day171-获取图片原始长宽
tags: 
- 前端
categories: 
- 技术
date:  2019-7-3
grammar_cjkRuby: true
---
### 要点

1. base64图片的长宽。
2. 图片长宽。
3. “src图片”的长宽。
<!--more-->

### base64图片

```js
function getPngDimensions (base64) {
  const header = atob(base64.slice(0, 50)).slice(16, 24)
  const uint8 = Uint8Array.from(header, c => c.charCodeAt(0))
  const dataView = new DataView(uint8.buffer)
  return {
    width: dataView.getInt32(0),
    height: dataView.getInt32(4)
  }
}
```

### 图片长宽

```js
imageElement.naturalHeight
imageElement.naturalWidth
```

### “src图片”

```js
let img = new Image()
img.src = 'http://www.google.com/intl/en_ALL/images/logo.gif'
img.onload = function() {
  console.log(this.width + 'x' + this.height)
}
```

### 参考

https://stackoverflow.com/questions/623172/how-to-get-image-size-height-width-using-javascript