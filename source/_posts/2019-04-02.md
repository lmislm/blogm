---
title: day81-了解无头浏览器Puppeteer
tags: 
- 前端
categories: 
- 技术
date:  2019-4-2
grammar_cjkRuby: true
---
### 前言
无头浏览器主要是用代码来模拟浏览器操作，如摘取页面元素，进行用户名和密码输入等无界面操作。下面的例子主要是站在JS的角度用Puppeteer来进行简单的了解。因为最近有个小东西可能需要用到。

![](https://ws1.sinaimg.cn/large/b15ca614gy1g1op1lasjmj20dw09974r.jpg)
<!--more-->
### 一小段例子
先安装
> npm i puppeteer

```javascript
const puppeteer = require('puppeteer');
async function getPic() {
  const browser = await puppeteer.launch({headless: false})
  const page = await browser.newPage()
  // 指定跳向某个页面
  await page.goto('https://zhidao.baidu.com/question/446485875.html')
  // 截图操作
  await page.screenshot({path: 'hello-world.png'})
  // await page.waitForNavigation('load') 
  // await page.click('#evaluate-3025447784') 
  // await page.evaluate(() => {
    // document.querySelector('#evaluate-3025447784').click()
  //  console.log(window.document.querySelector('#evaluate-3025447784'))
  // })
  // 清空浏览器的cookies
  // await page._client.send('Network.clearBrowserCookies')
  await browser.close()
}
getPic()
```

打开浏览器，跳转到指定页面，然后截图之后关闭浏览器。整个过程为异步进行。
