---
title: day170-TypeScript基础小记-参数属性
tags: 
- 前端
categories: 
- 技术
date:  2019-7-2
grammar_cjkRuby: true
---
### 要点

1. 存取器。
2. 静态属性。
<!--more-->

### 存取器

例子1
> 把简单的类改写成使用`get`和`set`。
注意：只带`get`不带有`set`的存取器自动被推断为readonly

```js
// 随意修改全名
class Employee {
  fullName: string
}
let employee = new Employee()
employee.fullName = '二柱子'
if (employee.fullName) {
  console.log(employee.fullName)
}
// 加密，不让随意修改全名
let passcode = 'secret passcode'
class Employee {
  private _fullName: string
  get fullName (): string {
    return this._fullName
  }
  set fullName (newName: string) {
    if (passcode && passcode == 'secret passcode') {
      this._fullName = newName
    } else {
      console.log('Error: 认证错误！又想把人名字改成二柱子！')
    }
  }
}
let employee = new Employee()
employee.fullName = "铁蛋"
if (employee.fullName) {
  console.log(employee.fullName)
}
```

### 静态属性

1. 这些属性存在类`本身`上而不是类的`实例`上。
2. 例子1
> 使用`static`定义`origin`，因为`origin`是所有网格都会用到的属性。每个实例访问该属性时，都要在`origin`前面加上类名。
> 如同在`实例属性`上使用`this.`前缀来访问`属性`，本例子用`Grid.`来访问`静态属性`。

```js
class Grid {
  static origin = { x: 0, y: 0 }
  constructor (public scale: number) {}
  calculateDistanceFromOrigin (point: { x: number, y: number }) {
    let xDis = (point.x - Grid.origin.x)
    let yDis = (point.y - Grid.origin.y)
    return Math.sqrt(xDis * xDis + yDis * yDis) / this.scale
  }
}
let grid1 = new Grid(1.0)
let grid2 = new Grid(2.0)
console.log(grid1.calculateDistanceFromOrigin({x: 1, y: 1}))
console.log(grid2.calculateDistanceFromOrigin({x: 2, y: 2}))
```
