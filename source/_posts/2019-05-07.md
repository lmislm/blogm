---
title: day115-实现事件类Event
tags: 
- 前端
categories: 
- 技术
date:  2019-5-7
grammar_cjkRuby: true
---
### 前言

**源起：**
同页面组件间通信使用事件监听和派发的方式，而不是直接相互调用组件方法。用[订阅发布模式]，保证组件的独立性和降低组件间耦合度。

![](https://i.loli.net/2019/05/07/5cd1a8d874919.jpg)·

<!--more-->
**核心：**
核心是一个*事件类型*对应回调函数的数据设计。

### 实现功能
本质上是一个观察者模式的实现。且Node.js原生自带**EventEmitter**模块，所以这部分是比较重要的。
实现一个事件类Event ，包含下面功能：
1. 绑定事件
2. 解绑事件
3. 派发事件

+ **on(eventName, func)**： 
	监听 eventName事件， 事件触发的时候调用 func函数

+  **emit(eventName, arg1, arg2, arg3,arg4...)**： 
	触发eventName 事件, 并且把参数 arg1, arg2, arg3,arg4...传给事件处理函数
+ **off(eventName, func)**：
	停止监听某个事件

### 参考

[实现一个Event类（发布订阅模式）][1]


  [1]: https://zhuanlan.zhihu.com/p/60324936