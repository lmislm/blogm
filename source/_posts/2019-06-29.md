---
title: day167-TypeScript基础小记-类（2）
tags: 
- 前端
categories: 
- 技术
date:  2019-6-29
grammar_cjkRuby: true
---
### 要点

1. 类的例子
2. 继承
3. 公共、私有与受保护的修饰符
<!--more-->

### 类的例子

```js
class Greeter {
  greeting: string
  constructor(message: string) {
    this.greeting = message
  }
  greet () {
    return 'hello' + this.greeting
  }
}
let greeter = new Greeter('world')
console.log(greeter)
```

### 继承-例子1

+ 例子1：

类（Dog）从基类（Animal)中继承了属性和方法。`Dog`是一个`派生类`,它派生自`Animal``基类`。

通过`extends`关键字，`派生类`通常被称作**子类**，`基类`通常被称作**超类**。

```js
class Animal {
  move(distanceInMeters: number = 0) {
    console.log(`目标被动物吓退了 ${distanceInMeters}m`)
  }
}
class Dog extends Animal {
  bark () {
    console.log('汪汪汪')
  }
}
const dog = new Dog() // 创建一个Dog能够`bark()`和`move()`的实例
dog.bark()
dog.move(10)
dog.bark()
```

### 继承-例子2

 和例子1有点不同，这个`派生类（子类）`必须调用`super()`，它会执行`基类（超类）`的**构造函数**。

 且，在**构造函数**里访问`this`的属性之前，一定要调用`super()`（这个是TypeScript强制执行的一条规则）。
 
 例子2，演示了如何在子类里可以重写父类方法。Snake类和Horse类都创建了move方法，它们重写了从Animal继承来的move方法，使得move方法根据不同的类而具有不同的功能。
 
 例子2中`tom: Animal`，tom被声明为`Animal类型`，但因为它的值是`Horse`类型（等于号右边部分），调用`tom.move(90)`时，它会调用Horse里**重写**的方法。

```js
class Animal {
  name: string
  constructor(theName: string) { this.name = theName }
  move (distanceInMeters: number = 0) {
    console.log(`${this.name} 跑了 ${distanceInMeters}米`)
  }
}
class Snake extends Animal {
  constructor(name: string) { super(name) }
  move(distanceInMeters = 5) {
    console.log('蛇出溜滑，遛了遛了..')
    super.move(distanceInMeters)
  }
}
class Horse extends Animal {
  constructor(name: string) { super(name) }
  move(distanceInMeters = 45) {
    console.log('我老马先跑一步...')
    super.move(distanceInMeters)
  }
}
let sam = new Snake('哟，这不是子类蛇嘛')
let tom: Animal = new Horse('马哥，马哥，子类马，雷吼')
sam.move()
tom.move(90)
```

### 公共、私有与受保护的修饰符

public、private
#### public

```js
class Animal {
  public name: string
  public constructor(theName: string) { this.name = theName }
  public move (distanceInMeters: number) {
    console.log(`${this.name} 移动 ${distanceInMeters}米。`)
  }
}
```

#### private

```js
class Animal {
  private name: string
  constructor(theName: string) { this.name = theName }
}
// 属性“name”为私有属性，只能在类“Animal”中访问。ts(2341)
new Animal('Cat').name
```

