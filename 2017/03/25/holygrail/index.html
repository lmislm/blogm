<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="holygrail（圣杯布局）"><meta name="keywords" content="编程,css"><meta name="author" content="lmislm,undefined"><meta name="copyright" content="lmislm"><title>holygrail（圣杯布局） | LMISLMのBlog</title><link rel="shortcut icon" href="/my-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.5.6"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.5.6"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#圣杯布局-holygrail"><span class="toc-number">1.</span> <span class="toc-text">圣杯布局(holygrail)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#起源"><span class="toc-number">1.1.</span> <span class="toc-text">起源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#例子"><span class="toc-number">1.2.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-建立框架"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 建立框架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-加-column"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 加 column</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-将左栏拉到相应位置"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 将左栏拉到相应位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-将右栏加入-line"><span class="toc-number">1.2.4.</span> <span class="toc-text">4.将右栏加入 line</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-结果"><span class="toc-number">1.2.5.</span> <span class="toc-text">5.结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结实现步骤"><span class="toc-number">1.3.</span> <span class="toc-text">总结实现步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-div-框架搭建出来，"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. div 框架搭建出来，</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-加-column，"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 加 column，</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-将左栏添到-center-左边，"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 将左栏添到 center 左边，</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-将右栏添右"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 将右栏添右</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#圣杯布局和双飞翼布局异同"><span class="toc-number">1.4.</span> <span class="toc-text">圣杯布局和双飞翼布局异同</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浮动元素上的负-margin"><span class="toc-number">1.5.</span> <span class="toc-text">浮动元素上的负 margin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flex-实现的“标准”圣杯布局"><span class="toc-number">1.6.</span> <span class="toc-text">flex 实现的“标准”圣杯布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他"><span class="toc-number">1.7.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考"><span class="toc-number">2.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://tvax1.sinaimg.cn/crop.0.0.959.959.180/b15ca614ly8fq7e2av9s8j20qn0qndic.jpg"></div><div class="author-info__name text-center">lmislm</div><div class="author-info__description text-center">凝视深渊过久，深渊将回以凝视;与恶龙缠斗过久，自身亦成为恶龙</div><div class="follow-button"><a href="https://github.com/lmislm" target="_blank">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">145</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">22</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">8</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友链</div><a class="author-info-links__name text-center" href="https://v2mm.tech" target="_blank">v2mm.tech</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://s1.ax1x.com/2018/07/22/PGQ9iR.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">LMISLMのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/gallery">Gallery</a></span></div><div id="post-info"><div id="post-title">holygrail（圣杯布局）</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-03-25</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/工作/">工作</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">1,021</span><span class="post-meta__separator">|</span><span>阅读时长: 4 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="圣杯布局-holygrail"><a href="#圣杯布局-holygrail" class="headerlink" title="圣杯布局(holygrail)"></a>圣杯布局(<a href="https://alistapart.com/article/holygrail" target="_blank" rel="noopener">holygrail</a>)</h2><h3 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h3><blockquote>
<p>三列。两列固定在两边，中间是一个<strong> 流体 </strong><br>圣杯布局的原理是? 简述实现圣杯布局的步骤。双飞翼布局和圣杯布局有什么异同负 margin 的用法</p>
</blockquote>
<a id="more"></a>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><ul>
<li>一个简单的仿照例子实现圣杯布局</li>
</ul>
<ul>
<li>步骤</li>
</ul>
<h4 id="1-建立框架"><a href="#1-建立框架" class="headerlink" title="1. 建立框架"></a>1. 建立框架</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!--第一步 建立框架--&gt;</span><br><span class="line">&lt;div id=&quot;header&quot;&gt;&lt;h1&gt;#header&lt;/h1&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;container&quot;&gt;</span><br><span class="line">    &lt;h1&gt;#container&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;footer&quot;&gt;&lt;h1&gt;#footer&lt;/h1&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h4 id="2-加-column"><a href="#2-加-column" class="headerlink" title="2. 加 column"></a>2. 加 column</h4><ul>
<li>float 让其在 line。再清除 footer 让它在最下面。添加背景颜色和边界便于观察。中间栏要放在前面以优先渲染。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">#container &#123;</span><br><span class="line">         padding-left: 200px;</span><br><span class="line">         padding-right:150px;</span><br><span class="line">     &#125;</span><br><span class="line">     #container .column &#123;</span><br><span class="line">         float: left;</span><br><span class="line">     &#125;</span><br><span class="line">     #center &#123;</span><br><span class="line">         width:100%;</span><br><span class="line">     &#125;</span><br><span class="line">     #left &#123;</span><br><span class="line">         width:200px;</span><br><span class="line">     &#125;</span><br><span class="line">     #right &#123;</span><br><span class="line">         width: 150px;</span><br><span class="line">     &#125;</span><br><span class="line">     #footer &#123;</span><br><span class="line">         clear: both;</span><br><span class="line">     &#125;</span><br><span class="line"> &lt;/style&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;container&quot;&gt;</span><br><span class="line">    &lt;h1&gt;#container&lt;/h1&gt;</span><br><span class="line">    &lt;div id=&quot;center&quot; class=&quot;column&quot;&gt;&lt;h1&gt;this is center&lt;/h1&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;left&quot; class=&quot;column&quot;&gt;&lt;h1&gt;this is left&lt;/h1&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;right&quot; class=&quot;column&quot;&gt;&lt;h1&gt;this is right&lt;/h1&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>效果图 2.1<br><img src="https://ooo.0o0.ooo/2017/03/25/58d5d72feabca.png" alt="step2"></li>
</ul>
<h4 id="3-将左栏拉到相应位置"><a href="#3-将左栏拉到相应位置" class="headerlink" title="3. 将左栏拉到相应位置"></a>3. 将左栏拉到相应位置</h4><ul>
<li>要让左栏和中间在一条直线上，先对左栏进行操作,分两步。margin-left:-100%跑到左上角（覆盖主栏目），再设置 position:relative,right:200px 或者 left:-200px（不覆盖主栏目）<ul>
<li>第一步</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#left &#123;</span><br><span class="line">	width:200px;</span><br><span class="line">	margin-left: -100%;</span><br><span class="line">	background-color: #555555;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>效果图 3.1<br><img src="https://ooo.0o0.ooo/2017/03/25/58d5d8169eeaa.png" alt="step3"> * 第二步用相对定位将左栏推开，加上相对定位标志之后，记得给左栏一个<code>right:200px</code>将左栏相对右边 200px,往左推 200px。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#left &#123;</span><br><span class="line">		width:200px;</span><br><span class="line">		margin-left: -100%;</span><br><span class="line">		right:200px;</span><br><span class="line">		background-color: #555555;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>效果图 3.2<br><img src="https://ooo.0o0.ooo/2017/03/25/58d5dae8bdfa3.png" alt="step3_2"><br>.</li>
</ul>
<h4 id="4-将右栏加入-line"><a href="#4-将右栏加入-line" class="headerlink" title="4.将右栏加入 line"></a>4.将右栏加入 line</h4><p>注意： 原作者这里用的是<code>margin-right:-150px</code>，在演示时并不能起效果。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#right &#123;</span><br><span class="line">	width: 150px</span><br><span class="line">	margin-right: -100%;</span><br><span class="line">	background-color: #8cacea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>效果图 4.1<br><img src="https://ooo.0o0.ooo/2017/03/25/58d5de6bddba3.png" alt="step4_1"><br>再处理一些小细节,固定的右边栏多出的字，撑开了</li>
<li>效果图 4.2<br><img src="https://ooo.0o0.ooo/2017/03/25/58d5e21d68c4d.png" alt="step4_2"></li>
</ul>
<h4 id="5-结果"><a href="#5-结果" class="headerlink" title="5.结果"></a>5.结果</h4><p><img src="https://ooo.0o0.ooo/2017/03/25/58d5e4038a31c.gif" alt="result"></p>
<h3 id="总结实现步骤"><a href="#总结实现步骤" class="headerlink" title="总结实现步骤"></a>总结实现步骤</h3><h4 id="1-div-框架搭建出来，"><a href="#1-div-框架搭建出来，" class="headerlink" title="1. div 框架搭建出来，"></a>1. div 框架搭建出来，</h4><ul>
<li>div- &gt;container，header，footer</li>
</ul>
<h4 id="2-加-column，"><a href="#2-加-column，" class="headerlink" title="2. 加 column，"></a>2. 加 column，</h4><ul>
<li>设置<code>float:left</code>，</li>
<li>设置<code>center宽度100%</code></li>
<li><code>清除footer浮动</code></li>
</ul>
<h4 id="3-将左栏添到-center-左边，"><a href="#3-将左栏添到-center-左边，" class="headerlink" title="3. 将左栏添到 center 左边，"></a>3. 将左栏添到 center 左边，</h4><ul>
<li><code>margin-left:-100%</code>到左上（覆盖主栏目），</li>
<li>再设置<code>position:relative</code>,<code>right:200px</code>或者<code>left:-200px</code>（不覆盖主栏目）</li>
</ul>
<h4 id="4-将右栏添右"><a href="#4-将右栏添右" class="headerlink" title="4. 将右栏添右"></a>4. 将右栏添右</h4><ul>
<li><code>margin-right: -100%;</code></li>
</ul>
<h3 id="圣杯布局和双飞翼布局异同"><a href="#圣杯布局和双飞翼布局异同" class="headerlink" title="圣杯布局和双飞翼布局异同"></a>圣杯布局和双飞翼布局异同</h3><ol>
<li>两种布局方式都是把主列放在文档流最前面，使主列优先加载</li>
<li>两者在实现上的相同点在于都让三列浮动，然后通过负外边距形成三列布局；</li>
<li>两种布局方式的不同在于如何处理中间主列的位置：圣杯布局是利用父容器的左右内边距定位；双飞翼布局是把主列嵌套在 div 后利用主列的左右外边距定位。</li>
</ol>
<h3 id="浮动元素上的负-margin"><a href="#浮动元素上的负-margin" class="headerlink" title="浮动元素上的负 margin"></a>浮动元素上的负 margin</h3><blockquote>
<p>给一个浮动元素加上相反方向的负 margin，则会使行间距为 0 且内容重叠。</p>
</blockquote>
<ul>
<li>bug 修复 * 当浮动元素使用负 margin 时，在一些旧的浏览器中可能会出现问题。用<code>position:float</code>,能解决很多问题。</li>
<li>具体可以参考 <a href="http://www.w3cplus.com/css/the-definitive-guide-to-using-negative-margins.html" target="_blank" rel="noopener">负 margin 用法权威指南</a></li>
</ul>
<h3 id="flex-实现的“标准”圣杯布局"><a href="#flex-实现的“标准”圣杯布局" class="headerlink" title="flex 实现的“标准”圣杯布局"></a>flex 实现的“标准”圣杯布局</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes" target="_blank" rel="noopener">MDN</a></p>
<ul>
<li>效果图<br><img src="https://ooo.0o0.ooo/2017/03/25/58d5fa60c22ea.png" alt="step"></li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li>圣杯布局基本就是（适：自适应，左：左栏，右：右栏）<br>_ 左适右<br>_ 左右适<br>_ 左适、右适<br>_ 等等</li>
<li><p>圣杯布局还有很多的实现方法<br>_ 纯浮动实现<br>_ flex 实现可以参考，<a href="http://web.jobbole.com/84993/" target="_blank" rel="noopener">圣杯布局小结</a>，觉得这位作者对圣杯布局总结的挺好，各种小例子。其他的也可以搜一下。我这里主要是介绍下圣杯布局。</p>
</li>
<li><p>圣杯布局类似 * <a href="http://www.imooc.com/wenda/detail/254035" target="_blank" rel="noopener"> 双飞翼布局</a> 1. left 和 right 覆盖了 center 的左右两边的内容。 2. center 的外部再加一个 div 标签来包裹中间区块， 3. 宽度为 100%。然后再设置 main 的左右外边距，使它回到对应的位置。</p>
</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://alistapart.com/article/holygrail" target="_blank" rel="noopener">In Search of the Holy Grail</a> by Matthew Levine<br><a href="https://segmentfault.com/a/1190000004524159" target="_blank" rel="noopener">关于「圣杯布局」</a> by DotHide<br><a href="http://web.jobbole.com/84993/" target="_blank" rel="noopener">圣杯布局小结</a> by 流云诸葛<br><a href="http://www.jianshu.com/p/1a981df93770" target="_blank" rel="noopener">圣杯布局和双飞翼布局</a> by betterwlf<br><a href="http://blog.leanote.com/post/727600729@qq.com/CSS%E4%B9%8B%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80%E5%92%8C%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80" target="_blank" rel="noopener">CSS 之圣杯布局和双飞翼布局</a> by 宋菲<br><a href="http://www.w3cplus.com/css/the-definitive-guide-to-using-negative-margins.html" target="_blank" rel="noopener">负 margin 用法权威指南</a> by Airen 的博客</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">lmislm</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lmislm.com/2017/03/25/holygrail/">http://lmislm.com/2017/03/25/holygrail/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lmislm.com" target="_blank">LMISLMのBlog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/编程/">编程</a><a class="post-meta__tags" href="/tags/css/">css</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2017/03/30/Math.random/"><i class="fa fa-chevron-left">  </i><span>Don't rely on luck.</span></a></div><div class="next-post pull-right"><a href="/2017/03/20/markdown语法小记/"><span>markdown语法小记</span><i class="fa fa-chevron-right"></i></a></div></nav><div class="post-adv"><a href="https://www.vultr.com/?ref=7298075"><img src="https://www.vultr.com/media/banner_1.png" width="728" height="90"></a></div><div id="vcomment"></div><script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.1.9-beta9/dist/Valine.min.js"></script><script>var notify = 'true' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'sHoDrBAU85MOb6nhjvws5BSc-gzGzoHsz',
  appKey:'FClW2WY5KFeQovMnpbGjKi7t',
  placeholder:'评论区',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2016 - 2019 By lmislm</div><span>Melody</span><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.6"></script><script src="/js/fancybox.js?version=1.5.6"></script><script src="/js/sidebar.js?version=1.5.6"></script><script src="/js/copy.js?version=1.5.6"></script><script src="/js/fireworks.js?version=1.5.6"></script><script src="/js/transition.js?version=1.5.6"></script><script src="/js/scroll.js?version=1.5.6"></script><script src="/js/head.js?version=1.5.6"></script><script src="/js/search/local-search.js"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>